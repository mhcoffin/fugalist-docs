<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="How does Dorico use an expression map? #  For each note in a score, Dorico computes the pitch, duration, volume, and the set of playing techniques that are active.
Dorico itself takes care of pitch and duration for the most part, so you usually don&rsquo;t need to worry too much about them.
However, you can adjust Dorico&rsquo;s durations if you need to.  Dorico needs a little help with the volume.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="How Dorico Uses an Expression Map" />
<meta property="og:description" content="How does Dorico use an expression map? #  For each note in a score, Dorico computes the pitch, duration, volume, and the set of playing techniques that are active.
Dorico itself takes care of pitch and duration for the most part, so you usually don&rsquo;t need to worry too much about them.
However, you can adjust Dorico&rsquo;s durations if you need to.  Dorico needs a little help with the volume." />
<meta property="og:type" content="article" />
<meta property="og:url" content="//fugalist.web.app/docs/introduction/how-its-used/" /><meta property="article:section" content="docs" />



<title>How Dorico Uses an Expression Map | Fugalist</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.958cea7827621d6fbcb3acf091344c3e44e3d2a9428f9c3c38bb9eb37bf8c45d.css" integrity="sha256-lYzqeCdiHW&#43;8s6zwkTRMPkTj0qlCj5w8OLues3v4xF0=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.5abb026c246dbca0c323141246fc42518d2af1f9d4221a754e1c331c45c14a62.js" integrity="sha256-WrsCbCRtvKDDIxQSRvxCUY0q8fnUIhp1ThwzHEXBSmI=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="/"><span>Fugalist</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/getting-started/" class="">Getting Started</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/introduction/" class="">Introduction</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/introduction/notation/" class="">Notation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/introduction/how-its-used/" class=" active">How Dorico Uses an Expression Map</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/introduction/example/" class="">Tiny Example</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/introduction/problem/" class="">So What&#39;s the Problem?</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/" class="">Expression-map Builder</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/overview-tab/" class="">Overview Tab</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/overview-tab/fields/" class="">Fields</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/overview-tab/actions/" class="">Actions</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/vst-tab/" class="">VST Sounds Tab</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/vst-tab/base/" class="">Base Sounds</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/vst-tab/add-ons/" class="">Add Ons</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/vst-tab/midi/" class="">MIDI Event Syntax</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/composite-tab/" class="">Composite Sounds</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/composite-tab/fields/" class="">Fields</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/composite-tab/condition-syntax/" class="">Condition Syntax</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/assignment-tab/" class="">Assignment Tab</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/assignment-tab/header/" class="">Header</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/assignment-tab/body/" class="">Body</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/assignment-tab/filters/" class="">Playing-technique filters</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/assignment-tab/bulk/" class="">Bulk Assignment</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="//fugalist.web.app/docs/tool/workflow/" class="">Workflow</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>How Dorico Uses an Expression Map</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents"></nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="how-does-dorico-use-an-expression-map">
  How does Dorico use an expression map?
  <a class="anchor" href="#how-does-dorico-use-an-expression-map">#</a>
</h1>
<p>For each note in a score, Dorico computes the pitch, duration, volume, and
the set of playing techniques that are active.</p>
<p>Dorico itself takes care of pitch and duration for the most part, so you usually don&rsquo;t need to worry too much about
them.</p>
<blockquote class="book-hint info">
  However, you can adjust Dorico&rsquo;s durations if you need to.
</blockquote>

<p>Dorico needs a little help with the volume. Basically, it needs to know whether volume is controlled by note
velocity or by a MIDI CC and&mdash;if it&rsquo;s controlled by a MIDI CC&mdash;which one. Once you tell it that, Dorico does the rest.</p>
<p>So main job of the expression map is to figure out what to do with the playing techniques.
Dorico uses the set of active playing techniques for the note, plus (optionally) the note duration,
to find an expression map entry. Then it reads from the expression map entry the following:</p>
<ul>
<li><strong>On events</strong>: a sequence of MIDI events to send before the note is played</li>
<li><strong>Off events</strong>: a sequence of MIDI events to send after the note is played (rarely needed, in my experience)</li>
<li><strong>Volume dynamic</strong>: A specification of how to control the volume of the note. The volume of a VST instrument
can be controlled either by using the note velocity, or by some continuous controller (CC).</li>
<li><strong>Length adjustment</strong>: an adjustment to the note length (percentage).</li>
<li><strong>Tranposition</strong>: an adjustment to the note pitch in case the library is in a different octave.</li>
</ul>
<p>So, in a sense, an expression map is a very simple thing. It&rsquo;s just a big look-up table, with one row for each
combination of playing techniques. Once Dorico finds the right row, it reads the <em>on</em> events, <em>off</em> events, etc., and
uses them to play the note.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents"></nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












